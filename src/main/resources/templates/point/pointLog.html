<!doctype html>
<html th:replace="~{layout/main :: layout(~{::title}, ~{::main})}" xmlns:th="http://www.thymeleaf.org">
  <head></head>
  <body>
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">포인트 로그</h1>
      </div>
      <h2>목록</h2>
<!--
      <form th:action="@{/savePointLog}" th:method="get" th:object="${userName}">
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="userName" id="ha" value="ha" onchange="this.form.submit()" th:checked="${#lists.contains(userName, 'ha')}">
          <label class="form-check-label" for="ha">
            Ha
          </label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="userName" id="park" th:value="park" onchange="this.form.submit()" th:checked="${#lists.contains(userName, 'park')}">
          <label class="form-check-label" for="park">
            Park
          </label>
        </div>
      </form>-->

      <div class="table-responsive">
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th scope="col">URL</th>
              <th scope="col">Site Name</th>
              <!--<th scope="col">User Name</th>
              <th scope="col">Status Code</th>
              <th scope="col">Response Body</th>
              <th scope="col">Response Header</th>
              <th scope="col">Cookie</th>-->
            </tr>
          </thead>
          <tbody>
            <tr th:each="item : ${items}">
              <td th:text="${item.pointUrl}">id</td>
              <td th:text="${item.siteName}">site name</td>
              <!--<td th:text="${item.userName}">user name</td>
              <td th:text="${item.responseStatusCode}">status</td>
              <td th:text="${item.responseBody}">body</td>
              <td th:text="${item.responseHeader}">header</td>
              <td th:text="${item.cookie}">cookie</td>-->
            </tr>
          </tbody>
        </table>
        <div>

          <!-- 첫번째 페이지로 이동 -->
          <a th:href="@{/savePointLog(page=1)}">첫 페이지 </a>

          <!-- 이전 링크 활성화 비활성화 -->
          <a th:href="${items.first} ? '#' : @{/savePointLog(page=${items.number})}"> 이전 </a>

          <!-- 페이지 번호 링크(현재 페이지는 숫자만)
                  for(int page=startPage; page<=endPage; page++)-->
          <span th:each="page: ${#numbers.sequence(startPage, endPage)}">
		<!-- 현재페이지는 링크 없이 숫자만 -->
            <span th:if="${page == items.number}" th:text="${page}"></span>
            <!-- 현재페이지 링크 X, 다른 페이지번호에는 링크를 보여준다 -->
            <span th:unless="${page == items.number}">
              <a th:href="@{/savePointLog(page=${page})}" th:text="${page}"></a>
            </span>
          </span>

          <!-- 다음 링크 활성화 비활성화 -->
          <a th:href="${items.last} ? '#' : @{/savePointLog(page=${items.number + 1})}"> 다음 </a>

          <!-- 마지막 페이지로 이동 -->
          <a th:href="@{/savePointLog(page=${items.totalPages})}"> 마지막 페이지</a>
        </div>
      </div>
    </main>
  </body>
</html>
